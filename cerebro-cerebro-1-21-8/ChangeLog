2015-01-08 Ryan Haasken <haasken@cray.com>

	* etc/cerebrod: Change end_priority to 100 - start_priority.

	On a CentOS 6.5 system, the mysqld service is shut down before the
	cerebrod service. However, cerebrod uses mysqld, so it should shut
	down before mysqld.

	This problem is due to an incorrect end_priority in the chkconfig
	header in the cerebrod init script. According to

	http://fedoraproject.org/wiki/Packaging:SysVInitScript#.23_chkconfig:_line

	the chkconfig header in an init script should have the end_priority
	equal to (100 - start_priority). The format of the chkconfig line is:

	 # chkconfig: <startlevellist> <startpriority> <endpriority>

	The current start_priority of 95 is good because it means cerebrod
	will start late. However, it should then be stopped early, so it's
	end_priority should be (100 - 95) = 5.
	
2014-08-08 Ryan Haasken <haasken@cray.com>

	init script: Replace reload w/ force-reload for LSB compliance

	The LSB says that reload should reload configuration if it's
	possible to do so without restarting the service, and support for
	the reload operation is optional.  Previously, the init script
	just restarted the service if given the "reload" argument.  This
	patch changes "reload" to an unsupported operation.

	The LSB says that the force-reload operation must be supported,
	and this operation can restart the service in order to reload
	configuration.  This patch adds the "force-reload" operation and
	just calls Xrestart when that operation is requested.

	Also added try-restart, which is the SLES equivalent of
	condrestart (Red Hat).  Updated the usage information to reflect
	these changes.
	
2014-08-08 Ryan Haasken <haasken@cray.com>

	cerebrod init script: add Xrestart function and re-indent file

	The cerebrod init script does not return the correct exit status
	for the restart command on SLES systems.  This is because the
	restart case only sets RETVAL and doesn't call rc_status.  This
	patch fixes this issue by creating an Xrestart function which is
	defined differently for RHEL vs.  SLES, just like the other 'X'
	functions.

	Also made the two Xcondrestart functions consistent in that they
	now both call "$0 restart" instead of the RHEL one calling "$0
	stop; $0 start" and the SLES one calling "$0 restart".

	Also updated the indentation in the file so that it consistently
	uses 4 spaces instead of tab characters.

2014-08-07 Ryan Haasken <haasken@cray.com>

	* etc/cerebrod: Call Xexit at the end of the script
	
2014-05-23 Ryan Haasken <haasken@cray.com>

	* src/modules/metric/cerebro_metric_boottime.c (boottime_metric_setup):
	Fix return on error path.
	
2014-05-20 Ryan Haasken <haasken@cray.com>

	* src/modules/metric/cerebro_metric_boottime.c (boottime_metric_setup):
	Read entire /proc/stat when searching for btime.  When searching
	in /proc/stat for btime, read one line at a time, and continue
	reading until the end of the file.  This ensures that we will find
	the line which contains the boot time of the machine.  The buffer
	size was left the same because some lines in /proc/stat can be
	quite long.
	
2013-06-07  Albert Chu  <chu11@llnl.gov>

	* tagged cerebro-1-18-1

	* META, NEWS: update for release

2013-06-07  Albert Chu  <chu11@llnl.gov>

	* src/libs/util/network_util.c (low_timeout_connect): Fix segfault
	corner case.
	
2013-02-08  Albert Chu  <chu11@llnl.gov>

	* tagged cerebro-1-17-1
	
2013-02-07  Albert Chu  <chu11@llnl.gov>

	* Support new cerebrod_monitor_module_exclude and
	cerebrod_event_module_exclude options to limit loading of specific
	modules.
	
	* META, NEWS: update for release

2013-01-31  Albert Chu  <chu11@llnl.gov>

	* /etc/cerebro.conf: Add cerebrod_gettimeofday_workaround.  Remove
	cerebrod_alternate_hostname, latter which is only for debugging.
	
2013-01-30  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c: Re-work gettimeofday workaround
	into configuration option.

	* src/libs/util/config_util.c,
	src/libs/include/cerebro/cerebro_config.h,
	src/cerebrod/cerebrod_config.c: Support new
	cerebrod_gettimeofday_workaround configuration option.

	* src/libs/wrappers/wrappers.h,
	src/libs/wrappers/wrappers.c (Gettimeofday_workaround,
	wrap_gettimeofday_workaround): Add new macro and function.

	* man/cerebro.conf.5.in: Add cerebrod_gettimeofday_workaround
	information.

	* config/ac_gettimeofday_workaround.m4: Remove file.

	* configure.ac, cerebro.spec.in: Update accordingly.

	* Re autogen.

2013-01-10  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod_speaker.c (cerebrod_speaker): Re-work prior
	gettimeofday workaround to deal with corner cases.
	
2012-12-11  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod_speaker.c (cerebrod_speaker): Add additional
	workaround for gettimeofday problem.

	* Rename --with-gettimeofday-retry to --with-gettimeofday-workaround.

2012-11-12  Albert Chu  <chu11@llnl.gov>
	
	* src/libs/wrappers/wrappers.c (wrap_gettimeofday): Update log
	message with more detail.

2012-11-09  Albert Chu  <chu11@llnl.gov>

	Support gettimeofday retry configuration option to work around
	issue on a number of Intel motherboards.

	* config/ac_gettimeofday_retry.m4: New file

	* src/libs/wrappers/wrappers.c (wrap_gettimeofday): Support
	workaround.
	
2012-10-04  Albert Chu  <chu11@llnl.gov>
	
	* META, NEWS: update for release

	* tagged cerebro-1-16-1

2012-10-04  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_debug.h: New file.

	* src/cerebrod/: Do not allow debug messages to output unless
	running in foreground.
	
2012-09-26  Albert Chu  <chu11@llnl.gov>
	
	* META, NEWS: update for release

	* tagged cerebro-1-15-1
	
2012-09-25  Albert Chu  <chu11@llnl.gov>
	
	* cerebrod/: Support -d and -c in production builds of cerebrod,
	including useful debug flags in cerebro.conf.

	* src/libs/debug/debug.h: Output more debugging information in
	production builds.
	
2012-03-02  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/error.h, src/libs/common/error.c
	(err_init_exit_value): New function.
	
2011-11-07  Albert Chu  <chu11@llnl.gov>

	* META, NEWS: update for release

	* tagged cerebro-1-14-1

2011-11-07  Albert Chu  <chu11@llnl.gov>

	* Additional doc updates.

	* man/cerebro.7: Removed and replaced with cerebro.7.in.

	* configure.ac: Update appropriately for generated manpage.
	
2011-11-07  Albert Chu  <chu11@llnl.gov>

	* META, NEWS: update for release

	* tagged cerebro-1-13-1

2011-11-07 Albert Chu  <chu11@llnl.gov>

	* Various manpage updates.
	
2011-10-21 Albert Chu  <chu11@llnl.gov>

	* Update copyright years globally.
	
2011-07-08 Frederik Ferner <frederik.ferner@diamond.ac.uk>

	* Replace literal string '/usr/lib64/cerebro' with
	CEREBRO_MODULES_DIR.
	
2011-06-21  Albert Chu  <chu11@llnl.gov>

	* Update for building on RHEL6.  Add Makefile.in, configure,
	config/, libltdl/, etc. for building straight out of the tree.
	
2011-05-02  Albert Chu  <chu11@llnl.gov>

	* src/libs/modules/module_util.c: Remove accidental debug left in.

2010-12-03  Albert Chu  <chu11@llnl.gov>

	* META, NEWS: update for release

	* tagged cerebro-1-12-1

2010-12-03  Albert Chu  <chu11@llnl.gov>

	* Update various CEREBRO_DBG error messages to CEREBRO_ERR.
	
2010-08-17  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.7: Fix typo.
	
2010-07-01  Albert Chu  <chu11@llnl.gov>

	* META, NEWS: update for release

	* tagged cerebro-1-11-1
	
2010-06-01  Albert Chu  <chu11@llnl.gov>

	* /etc/cerebro.conf: New file.

	* man/cerebro.conf.5.in: Minor fixes.

	* Update build system appropriately for changes.
	
2010-04-07  Albert Chu  <chu11@llnl.gov>

	* META, NEWS: update for release

	* tagged cerebro-1-10-1

2010-04-06  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/: Fix debug output race condition between event
	server and listener threads.
	
2010-02-04  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_event_update.c
	(cerebrod_event_modules_setup): Fix bug which did not allow
	multiple events.
	
2010-02-04  Albert Chu  <chu11@llnl.gov>
	
	* man/cerebro_module_devel.3.in: Fix typo.
	
2010-02-01  Albert Chu  <chu11@llnl.gov>

	* Update copyrights globally.
	
2009-11-04  Albert Chu  <chu11@llnl.gov>

	* Fix up comments/docs, i.e. != e.g.
	
2009-10-16  Albert Chu  <chu11@llnl.gov>

	* src/libs/wrappers/wrappers_ltdl.c, src/libs/wrappers/wrappers.h:
	Remove ltdl wrapper functions which are unused.
	
2009-10-16  Albert Chu  <chu11@llnl.gov>

	* Fix RHEL6/FC11 build issues.
	
2009-08-11  Albert Chu  <chu11@llnl.gov>

	* Include headers to fix portability.
	
2009-05-19  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/hash.h, src/libs/common/hash.c (hash_remove_if):
	New function.

	* src/cerebrod/cerebrod_util.c (cerebrod_rehash): Fix rehash
	corner case.
	
2009-05-15  Albert Chu  <chu11@llnl.gov>

        * Add comments for clarification.

2009-02-26  Albert Chu  <chu11@llnl.gov>

	* etc/cerebrod: By default, do not have cerebrod on.
	
	* META, NEWS: update for release

	* tagged cerebro-1-9-1

2009-01-12  Albert Chu  <chu11@llnl.gov>

	* META, NEWS: update for release

	* tagged cerebro-1-8-1

2008-12-05  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Change default to not build with genders
	support.
	
2008-09-15  Albert Chu  <chu11@llnl.gov>
	
	* META, NEWS: update for release

	* tagged cerebro-1-7-1

2008-09-10  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_monitor_update.h,
	src/cerebrod/cerebrod_monitor_update.c: Fix list corruption race.
	
2008-07-11  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/hostlist.c: Update to newest lib.
	
2008-06-27  Albert Chu  <chu11@llnl.gov>

	* man/Makefile.am: Fix make dist.

	* META, NEWS: update for release

	* tagged cerebro-1-6-1
	
2008-06-25  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (_speaker_initialize): Fix fd
	race.
	
2008-06-24  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c (_cerebrod_load_config): Make
	error message output clearer.
	
2008-06-18  Albert Chu  <chu11@llnl.gov>

	* etc/cerebrod: Adjust chkconfig start priority.
	
2008-05-16  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.conf.5.in: Fix port typos found by Py Watson
	(watson30 at llnl dot gov).
	
2008-04-22  Albert Chu  <chu11@llnl.gov>

	* src/libs/util/config_util.c (_cb_cerebrod_heartbeat_freq): Fix
	parse issue.  Found by Andrew Uselton (acuselton at lbl dot gov).
	
2008-04-18  Albert Chu  <chu11@llnl.gov>

	* man/: Fix typos found by Andrew Uselton (acuselton at lbl dot gov).
	
2008-04-18  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.1: Rename to cerebro.7 so it is in the proper
	manpage section.

	* man/Makefile.am: Adjust appropriately.
	
2008-04-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_metric_controller.c (_update_metric): Fix
	mem-corruption corner case.

	* META, NEWS: update for release

	* tagged cerebro-1-5-1
	
2008-03-26  Albert Chu  <chu11@llnl.gov>

	* update copyrights in a lot of places

2008-03-28  Patrick Winnertz <patrick.winnertz@credativ.de>

	* man/: Tons of manpage nroff fixes.

	* src/modules: debian compile fixes.
	
2008-03-26  Albert Chu  <chu11@llnl.gov>

	* META, NEWS: update for release

	* tagged cerebro-1-4-1

2008-01-29  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (_setup_metric_modules): Add
	debug statement.
	
2008-01-29  Albert Chu  <chu11@llnl.gov>

	* Various minor bug fixes based on code analyzer.

2008-01-25  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.conf.5.in, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_speaker_data.c,
	src/libs/include/cerebro/cerebro_config.h,
	src/libs/include/cerebro/cerebro_constants.h,
	src/libs/util/config_util.c: Support metric module exclude
	options.
	
2008-01-04  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (_cerebrod_message_send): Fix
	memleak.
	
2007-11-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (cerebrod_send_message): Remove
	incorrect comment.

	* src/cerebrod/cerebrod_speaker.c (_speaker_initialize): Fix
	speaker initialization race.
	
2007-10-26  Albert Chu  <chu11@llnl.gov>

	* src/libs/cerebro/cerebro_event.c (_setup_event_connection): Fix
	default port bug.
	
2007-10-25  Albert Chu  <chu11@llnl.gov>

	* man/Makefile.am: Install cerebro.1 manpage in man1 instead of
	man3.

	* man/cerebro.conf.5.in: Add forgotten new fields.

	* man/cerebro_module_devel.3.in: Add forgotten module interface changes.

	* src/libs/cerebro/cerebro.c: Fix error message corner case.

	* src/libs/cerebro/cerebro_event.c (_event_value_unmarshall),
	src/libs/cerebro/cerebro_metric_data.c (_metric_value_unmarshall),
	src/libs/util/data_util.c (_unmarshall_data_value): Fix parsing
	corner cases.

2007-10-24  Albert Chu  <chu11@llnl.gov>

	* src/cerebro-stat/cerebro-stat.c (main): Fix minor output corner
	case.
	
2007-10-23  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c, src/libs/util/config_util.c:
	Fix non-debug build compile bugs.

	* configure.ac: Revert lib version change, since interfacea
	actually didn't change.

	* src/cerebrod/, src/modules/, src/libs/modules/,
	src/include/cerebro/: Include module interface versioning.

	* man/cerebro_module_devel.3.in: Update with new versioning
	information.

	* META, NEWS: update for release

	* tagged cerebro-1-3-1

2007-10-22  Albert Chu  <chu11@llnl.gov>

	* man/cerebro_module.3.in: Add event module information.

	* man/cerebro.1: New manpage.

	* man/cerebro.3: Removed file.

	* man/Makefile.am: Update for new manpage.

	* src/libs/util/config_util.c (_cb_cerebrod_alternate_hostname):
	Fix corner case.

	* src/libs/include/cerebro/cerebro_config.h,
	src/libs/util/config_util.c (_cb_cerebrod_forward_message_config):
	Accept longer strings for potential comma or hostrange inputs.

	* src/libs/include/cerebro/cerebro_config.h,
	src/libs/util/config_util.c, src/cerebrod/cerebrod_config.h,
	src/cerebrod/cerebrod_config.c, src/cerebrod/cerebrod_listener.c:
	Support of 'cerebrod_forward_host_accept' config option.
	
2007-10-18  Albert Chu  <chu11@llnl.gov>

	* src/libs/modules/config_module_default.c: Removed file.

	* src/libs/modules/config_module.h,
	src/libs/modules/config_module.c (config_module_found): New
	function.

	* src/libs/util/config_util.c (_load_config_module): Do not load a
	config module if one is not found.

	* src/libs/modules/config_module.c (config_module_load): Do not
	use a default config module.

	* src/libs/modules/clusterlist_module_default.c: Removed file.

	* src/libs/modules/clusterlist_module.h,
	src/libs/modules/clusterlist_module.c (clusterlist_module_found):
	New function.

	* src/cerebrod/cerebrod_listener.c: Adjust for non-default
	clusterlist module not being loaded.

	* src/libs/cerebro/cerebro_clusterlist_util.h,
	src/libs/cerebro/cerebro_clusterlist_util.c: Remove files.

	* src/libs/cerebro/: Adjust for removal of clusterlist utility
	files which were unneeded.

	* src/libs/cerebro/Makefile.am, src/libs/modules/Makefile.am:
	Adjust for removed files.

	* src/cerebro-stat/cerebro-stat.c (_metric_value_str): Fix assert
	corner case bug.

	* man/cerebro_module.3.in: Tweak based on changes.

	* man/cerebro.conf.5.in: Add note on shortened hostnames for
	forwarding config.

	* src/libs/include/cerebro/cerebro_config.h,
	src/libs/util/config_util.c, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_speaker.c:
	Support cerebrod_alternate_hostname debug option.

	* src/cerebrod/cerebrod_event_node_timeout_monitor.c
	(cerebrod_event_node_timeout_monitor): Fix segfault corner case.

	* man/cerebro.conf.5.in: Document new cerebrod_alternate_hostname
	debug option.
	
2007-10-17  Albert Chu  <chu11@llnl.gov>

        * DISCLAIMER.UC: New file.

        * DISCALIMER: Updated with new disclaimer.

        * Makefile.am, cerebro.spec.in: Add DISCLAIMER.UC.

	* Fixed copyright and FSF address globally.
	
2007-10-16  Albert Chu  <chu11@llnl.gov>

	* Fix typos in Copyright headers globally.

        * config/Make-rpm.mk: Remove localism.

        * Makefile.am: Remove use of Make-rpm.mk.
	
2007-10-15  Albert Chu  <chu11@llnl.gov>

	* src/libs/include/cerebro/cerebro_config.h,
	src/libs/util/config_util.c, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_listener.c: Continue packet forwarding work.

	* src/libs/wrappers/wrappers.h,
	src/libs/wrappers/wrappers_hostlist.c: Add new hostlist wrappers.

	* man/cerebro.conf.5.in: Update appropriately.

	* src/cerebrod/cerebrod_speaker.c (_speaker_socket_create): Rename
	to _speaker_setup_socket for consistency to other code.
	
2007-10-13  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_listener.c: Continue packet forwarding work.
	
2007-10-12  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.conf.5.in, src/cerebrod/cerebrod_config.h,
	src/cerebrod/cerebrod_config.c, src/cerebrod/cerebrod.c,
	src/cerebrod/Makefile.am,
	src/libs/include/cerebro/cerebro_config.h,
	src/libs/util/config_util.c: Begin work to add cerebro packet
	forwarding.
	
2007-10-12  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.conf.5.in, src/cerebrod/cerebrod_config.c: Support
	ability for user to input hostnames for speaker and listen message
	config instead of just ip addresses.
	
2007-10-11  Albert Chu  <chu11@llnl.gov>

	* src/libs/include/cerebro/cerebro_config.h,
	src/libs/util/config_util.c: Support new config file options
	cerebro_metric_server, cerebro_event_server,
	cerebrod_speak_message_config, and cerebrod_listen_message_config.
	Remove support for cerebro_hostnames, cerebro_port,
	cerebrod_listen_ips, cerebrod_listen_network_interfaces,
	cerbrod_listen_ports, cerebrod_message_source_port,
	cerebrod_message_destination_port,
	cerebrod_message_destination_ip,
	cerebrod_message_source_network_interface.  Support multiple
	speaker destinations.

	* src/libs/cerebro/: Adjust lib for new config changes.
	
	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/cerebrod_listener.c: Adjust appropriately for config changes.

	* src/cerebrod/cerebrod_speaker.c: Support multiple speaker
	destinations.

	* man/cerebro.conf.5.in: Update appropriately.

	* configure.ac: Update lib version.
	
2007-10-09  Albert Chu  <chu11@llnl.gov>

	* tagged pre_config_file_format_change
	
2007-10-08  Albert Chu  <chu11@llnl.gov>

	* src/libs/debug/debug.h (CEREBRO_ERR): New macro.

	* src/: Use new macro throughout to provide better debugging when
	cerebrod is running in non-debug mode.

	* src/cerebrod/cerebrod_speaker.c (_cerebrod_message_create,
	cerebrod_speaker), src/cerebrod/cerebrod_speaker_data.c
	(cerebrod_speaker_data_get_heartbeat_metric_data,
	cerebrod_speaker_data_get_module_metric_data): Re-work to force
	multiple UDP packets to be sent immediately if all data cannot be
	sent in a single packet.
	
2007-10-05  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.conf.5.in:  Update documentation.

	* config/ac_cerebro_metric_control_path.m4: Alter default metric
	control path to /var.

	* src/libs/include/cerebro/cerebro_constants.h: Up
	CEREBRO_MAX_DATA_STRING_LEN to a reasonable size.
	
2007-10-01  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Replace /etc/init.d with %{initrddir}.
	
2007-09-18  Albert Chu  <chu11@llnl.gov>

	Re-do numbering for release.

	* META, NEWS: update for release

	* tagged cerebro-1-2-1
	
2007-09-17  Albert Chu  <chu11@llnl.gov>

	* man/cerebrod.8.in: Add restart information.

	* src/cerebro-stat/cerebro-stat.c, man/cerebro-stat.8.in,
	src/cerebro-admin/cerebro-admin.c, man/cerebro-admin.8.in: Re-do
	usage output and documentation per Py Watson
	(watson30 at llnl dot gov) suggestions.

	* tagged cerebro-1-1-6
	
2007-09-14  Albert Chu  <chu11@llnl.gov>

	* Fix compiler warnings.
	
2007-09-05  Albert Chu  <chu11@llnl.gov>

        * Fix FSF address throughout.
	
2007-04-03  Albert Chu  <chu11@llnl.gov>

	* tagged cerebro-1-1-5

	* META: update for release

	* cerebro.spec.in: Update.
	
2007-04-03  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (cerebrod_speaker): Fix
	mem-leak.

	* src/cerebrod/cerebrod_listener_data (metric_data_create): Add
	assert.

	* src/cerebrod/cerebrod_listener_data
	(cerebrod_listener_data_update): Fix metric names hash corner
	case.

	* src/cerebrod/cerebrod_event_update.c
	(_event_node_timeout_data_add, _event_node_timeout_data_callback):
	Add pthread lock checks.

	* src/cerebrod/cerebrod_event_server.c
	(_event_server_service_connection): Fix potential race condition.

	* src/cerebrod/cerebrod_event_server.c: Remove unused globals.

	* src/cerebrod/cerebrod_event_update.h,
	src/cerebrod/cerebrod_event_update.c
	(cerebrod_event_modules_setup, cerebrod_event_modules_update): Fix
	race condition.

	* Makefile.am: Dist out cerebro spec files.
	
2007-04-02  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener_data.c: Fix race condition.
	
2007-03-01  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Fix default permissions issue.
	
2007-02-09  Albert Chu  <chu11@llnl.gov>

	* src/libs/modules/metric_module.c (_metric_module_cb),
	src/libs/modules/event_module.c (_event_module_cb),
	src/libs/modules/monitor_module.c (_monitor_module_cb): Fix static
	compile bug.

	* src/cerebrod/cerebrod_speaker.c: Remove pthread use when
	--with-cerebrod-no-threads is used.

	* src/libs/modules/metric_module.c: Fix various static module
	build issues.

	* src/modules/event/Makefile.am: Fix static build bug.
	
2007-02-08  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Add cerebrod restart fix.  Fix ppc64 packaging issue.
	
2007-02-06  Albert Chu  <chu11@llnl.gov>

	* src/modules/clusterlist/cerebro_clusterlist_genders_util.h,
	src/modules/clusterlist/cerebro_clusterlist_genders_util.c
	(cerebro_clusterlist_genders_setup): Add filename parameter.

	* src/modules/clusterlist/cerebro_clusterlist_genders.c: Adjust
	for new function call appropriately.
	
2006-12-21  Albert Chu  <chu11@llnl.gov>

	* src/libs/wrappers/wrappers.c (wrap_select): Fix bug then could
	cause select() spinning.

	* tagged cerebro-1-1-4
	
2006-12-20  Albert Chu  <chu11@llnl.gov>

	* Fix various compiler warnings.
	
2006-12-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_event_server.c
	(_send_event_names_end_response): Fix compiler warnings.
	
	* tagged cerebro-1-1-3

2006-12-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (cerebrod_speaker): Fix bug that
	could cause the loop to spin for small periods of time.

	* tagged cerebro-1-1-2
	 
2006-12-19  Albert Chu  <chu11@llnl.gov>

	* NEWS updated.

	* config/ac_updown_event.m4: Fix typo.

	* config/ac_updown.m4: Renamed from ac_updown_event.m4 and
	modified appropriately for name change.

	* configure.ac, src/modules/event/Makefile.am: Updated
	appropriately.

	* cerebro.spec.in: Support updown event module.

	* tagged cerebro-1-1-1

2006-12-04  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.c (_listener_setup_socket),
	src/cerebrod/cerebrod_speaker.c (_speaker_socket_create): Fix
	SO_REUSEADDR corner case.
	
2006-11-16  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/vector.c (vector_set): Fix counting bug.
	
2006-11-14  Albert Chu  <chu11@llnl.gov>

	* configure.ac: Up library version.

	* Globally cleanup code so cerebrod "heartbeat" is now a cerebrod
	"message".  Heartbeats still exist, although they are now one type
	of cerebrod message, rather than the only possible message.
	
2006-11-14  Albert Chu  <chu11@llnl.gov>

	* src/libs/include/cerebro/cerebro_metric_module.h,
	src/libs/modules/, src/modules/metric/: Support new
	metric module flags.

	* src/cerebrod/cerebrod_speaker_data.c,
	src/libs/include/cerebro/cerebro_metric_module.h: Alter method by
	which metric module threads are used.  Metric module threads now
	send heartbeats when data changes, they don't signal cerebro that
	data is simply updated.

	* src/modules/metric/cerebro_metric_slurm_state.c
	(_send_heartbeat,
	slurm_state_metric_send_heartbeat_function_pointer): New function.

	* src/modules/metric/cerebro_metric_slurm_state.c
	(slurm_state_metric_thread): Send heartbeat on state change.

	* src/cerebrod/cerebrod_speaker_data.c,
	src/cerebrod/cerebrod_speaker.h, src/cerebrod/cerebrod_speaker.c:
	Support metric module flags and possibility metric modules may not
	send data via heartbeats.

	* man/cerebro_module_devel.3.in: Updated appropriately.

2006-11-13  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_event_server.c: Fix up some comments.
	
2006-11-11  Albert Chu  <chu11@llnl.gov>

	* src/modules/metric/cerebro_metric_common.h,
	src/modules/metric/cerebro_metric_common.c: New files.

	* src/modules/metric/: Adjust to use new common functions.
	
2006-11-10  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/, src/libs, src/cerbro-admin/,
	man/cerebro-admin.8.in: Support new 'send-now' functionality for
	updated metrics.  Adjust code appropriately to support new feature
	and make code cleaner.

2006-11-10  Albert Chu  <chu11@llnl.gov>

	* src/libs/cerebro/cerebro_metric_util.c
	(_cerebro_metric_get_data): Fix config parse bug.

2006-11-09  Albert Chu  <chu11@llnl.gov>

	* src/cerebro-stat/cerebro-stat.c, man/cerebro-stat.8.in: Adjust
	wording so "metric server" refers to a "metric server" or "event
	server".

	* src/cerebrod/cerebrod_event_server.h,
	src/cerebrod/cerebrod_event.c, src/libs/include/cerebro.h,
	src/libs/include/cerebro/cerebro_event_protocol.h,
	src/libs/cerebro/cerebro_event.c, src/cerebro-stat/cerebro-stat.c:
	Support 'event_names' retrieval.  Includes modification to
	metriclist structures to be used generically for metric names or
	event names.

	* man/cerebro_get_event_names.3,
	src/libs/cerebro/cerebro_event_names.c: New files.
	
	* src/cerebrod/cerebrod_metric_server.c: Various code cleanup.

	* man/: Adjust manpages appropriately for new functions and
	changes.

	* man/: Various minor cleanup.

	* src/cerebrod/: Fix bug fixes and code cleanup.
	
2006-11-08  Albert Chu  <chu11@llnl.gov>

	* src/libs/include/Makefile.am: Add cerebro_event_protocol.h.
	
2006-11-07  Albert Chu  <chu11@llnl.gov>

	Add Cerebro Event Monitoring Support (from branch
	'cerebro_event_branch', tag 'cerebro_event_final')

	* src/libs/include/cerebro_event_protocol.h,
	src/libs/include/cerebro_event_module.h,
	src/libs/modules/event_module.h, src/libs/modules/event_module.c,
	src/libs/cerebro/cerebro_event.c: New files.

	* src/libs/include/cerebro.h: Add event API functions.

	* src/libs/cerebro_api.h: Add event API support into struct cerebro.

	* src/libs/cerebro.c (cerebro_handle_create): Add event API support.

	* src/libs/include/Makefile.am, src/libs/modules/Makefile.am,
	src/cerebrod/Makefile.am: Adjust appropriately.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/libs/util/config_util.c,
	src/libs/include/cerebro/cerebro_config.h: Support event server
	config variables.

	* src/cerebrod/cerebrod_event_server.h,
	src/cerebrod/cerebrod_event_server.c,
	src/cerebrod/cerebrod_event_node_timeout_monitor.h,
	src/cerebrod/cerebrod_event_node_timeout_monitor.c,
	src/cerebrod/cerebrod_event_update.h,
	src/cerebrod/cerebrod_event_update.c: New files.

	* src/cerebro-stat/cerebro-stat.c: Add event monitoring support.

	* man/cerebro-stat.8.in, man/cerebro.conf.5.in,
	man/cerebro_module_devel.3.in: Update appropriately.

	* man/cerebro_event.3, man/cerebro_event_register.3,
	man/cerebro_event_unregister.3, man/cerebro_event_parse.3: New
	files.
	
	Add Updown Module Event support

	* src/modules/event/cerebro_event_updown.c: New file.

	Misc

	* src/libs/wrappers/wrappers.h, src/libs/wrappers/wrappers_list.c:
	Add list_peek wrapper.

	* Globally rename "METRIC_VALUE_TYPE" to "DATA_VALUE_TYPE" for
	consistency with event data types. 

	* src/libs/util/metric_util.h, src/libs/util/metric_util.c:
	Renamed to data_util.h and data_util.c.

	* src/: Globally readjust many variable/function/comments due to
	change from "metric" to "data" in naming.

2006-11-07  Albert Chu  <chu11@llnl.gov>

	* src/cerebro-stat/cerebro-stat.c (main): Fix seg-fault corner
	case.
	
2006-11-06  Albert Chu  <chu11@llnl.gov>

	* src/libs/cerebro/cerebro_metric_data.c
	(_metric_value_unmarshall): Remove unnecessary code.
	
2006-11-05  Albert Chu  <chu11@llnl.gov>

	* man/cerebro_nodelist_metric_name.3: Fix typos and add forgotten
	value types.

	* src/libs/cerebro/cerebro.c (cerebro_handle_create): Fix cleanup
	corner case.

	* src/libs/cerebro/cerebro_metric_util.c: Various code cleanup.
	
2006-11-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_monitor_update.h,
	src/cerebrod/cerebrod_monitor_update.c: New files.

	* src/cerebrod/cerebrod_listener_data.h,
	src/cerebrod/cerebrod_listener_data.c: Cleanup by moving monitor
	module code to new files above.

	* src/cerebrod/Makefile.am: Updated for new files.
	
2006-10-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener_data.c (_setup_monitor_modules):
	Cleanup strtok code.

	* Various continued code cleanup.
	
2006-10-30  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener_data.c,
	src/cerebrod/cerebrod_listener_data.h,
	src/cerebrod/cerebrod_metric_controller.c,
	src/cerebrod/cerebrod_metric_server.c,
	src/libs/include/cerebro/cerebro_config.h,
	src/cerebrod/cerebrod_util.c: Various code cleanup.  Rehash hashes
	as needed.  Remove need for listener_data_list.

	* man/cerebro_module_devel.3.in: Add forgotten headers.
	
2006-10-29  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/vector.h, src/libs/common/vector.c: New files.

	* src/libs/common/Makefile.am: Update appropriately.

	Remove need for metric_max and monitor_max to limit number of
	loadable modules.

	* src/libs/modules/metric_module.h,
	src/libs/modules/metric_module.c,
	src/libs/modules/monitor_module.h,
	src/libs/modules/monitor_module.c: Remove modules_max use, use
	vectors instead.

	* src/libs/util/config_util.c,
	src/libs/include/cerebro/cerebro_config.h,
	src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_listener_data.c,
	src/cerebrod/cerebrod_speaker_data.c: Remove use of metric_max and
	monitor_max as needed.
	
	* man/cerebro.conf.5.in, man/cerebro_module.3.in,
	man/cerebro_module_devel.3.in: Adjust appropriately.

	* src/libs/include/cerebro/cerebro_constants.h: Make
	CEREBRO_MAX_PACKET_LEN same as max UDP size.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener),
	src/cerebrod/cerebrod_speaker.c (cerebrod_speaker,
	cerebrod_speaker_send_heartbeat): Add checks for exceeded max
	packet size.

	* src/modules/metric/cerebro_metric_slurm_state.c
	(slurm_state_metric_thread): Remove pointless check.
	
2006-10-05  Albert Chu  <chu11@llnl.gov>

	* configure.ac: Fixed library versioning mistake.  Up revision,
	not current.
	
2006-09-25  Albert Chu  <chu11@llnl.gov>

	* configure.ac, src/cerebrod/, src/cerebro-stat: Use sizeof checks
	to remove cross-platform compiler warnings.
	
2006-09-22  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker_data.c (_metric_is_updated): Fix
	mem-leak.

	* src/cerebrod/cerebrod_listener_data.c: Support multiple monitor
	modules per metric name.

	* src/cerebrod, src/cerebro-stat: Fix compiler warnings.
	
2006-09-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener_data.c (_setup_monitor_modules): Fix typo.

	* src/libs/modules/config_module.c,
	src/libs/modules/metric_module.c,
	src/libs/modules/monitor_module.c: Remove forgotten localisms.

	* src/libs/modules/metric_module.c: Add forgotten modules.
	
	* src/modules/metric/Makefile.am: Fix typo.
	
2006-09-19  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener_data.c (_setup_monitor_modules):
	Fix typo.
	
2006-09-05  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Fix
	mem-leak corner case.
	
2006-09-01  Albert Chu  <chu11@llnl.gov>

	* src/modules/metric/cerebro_metric_memory.c (_read_memory):
	Replace asserts with DBG calls.

	* man/cerebro_module.3.in: Fixed typo.
	
2006-08-27  Albert Chu  <chu11@llnl.gov>

	* src/modules/metric/cerebro_metric_memory.h,
	src/modules/metric/cerebro_metric_memory.c: New files.

	* src/modules/metric/cerebro_metric_memtotal.c,
	src/modules/metric/cerebro_metric_memused.c,
	src/modules/metric/cerebro_metric_memfree.c,
	src/modules/metric/cerebro_metric_swaptotal.c,
	src/modules/metric/cerebro_metric_swapused.c,
	src/modules/metric/cerebro_metric_swapfree.c: Adjusted to use
	common function.

	* src/modules/metric/Makefile.am: Adjust for new files.

	* src/libs/common/marshall.h, src/libs/common/marshall.c
	(marshall_int64, marshall_u_int64, unmarshall_int64,
	unmarshall_u_int64): New functions.
	
	* src/cerebro-admin/cerebro-admin.c (_usage, _cmdline_parse),
	src/cerebro-stat/cerebro-stat.c (_metric_value_str),
	src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_dump),
	src/cerebrod/cerebrod_listener_data.c (_metric_data_dump),
	src/libs/util/metric_util.c (_check_metric_type_len,
	_marshall_metric, _unmarshall_metric_value),
	src/libs/include/cerebro.h: Support new
	CEREBRO_METRIC_VALUE_TYPE_INT64 and
	CEREBRO_METRIC_VALUE_TYPE_U_INT64 metric value types.

	* src/modules/metric/cerebro_metric_memory.c,
	src/modules/metric/cerebro_metric_loadavg.c: Cache results rather
	than reading the proc file everytime.

	* config/ac_network.m4,
	src/modules/metric/cerebro_metric_network.h,
	src/modules/metric/cerebro_metric_network.c,
	src/modules/metric/cerebro_metric_bytesin.c,
	src/modules/metric/cerebro_metric_bytesout.c,
	src/modules/metric/cerebro_metric_packetsin.c,
	src/modules/metric/cerebro_metric_packetsout.c ,
	src/modules/metric/cerebro_metric_rxerrs.c,
	src/modules/metric/cerebro_metric_txerrs.c: New files.

	* src/modules/metric/Makefile.am, configure.ac,
	man/cerebro_module.3.in: Adjust appropriately for new metrics.

	* cerebro.spec.in: Add new packets for new metrics.

2006-08-26  Albert Chu  <chu11@llnl.gov>

	* src/modules/metric/cerebro_metric_boottime.c
	(boottime_metric_setup): Cleanup parsing code.

	* src/modules/metric/cerebro_metric_memtotal.c,
	src/modules/metric/cerebro_metric_memused.c,
	src/modules/metric/cerebro_metric_memfree.c,
	src/modules/metric/cerebro_metric_swaptotal.c,
	src/modules/metric/cerebro_metric_swapused.c,
	src/modules/metric/cerebro_metric_swapfree.c,
	config/ac_memory.m4: New files.

	* src/modules/metric/Makefile.am, configure.ac,
	man/cerebro_module.3.in: Adjust appropriately for new metrics.

	* src/cerebrod/cerebrod_config.h: Increase
	CEREBROD_METRIC_MAX_DEFAULT.

	* man/cerebro.conf.5.in: Update appropriately.

	* src/modules/metric/cerebro_metric_loadavg.c,
	src/modules/metric/cerebro_metric_loadavg.h: New files.
	
	* src/modules/metric/cerebro_metric_loadavg1.c,
	src/modules/metric/cerebro_metric_loadavg5.c,
	src/modules/metric/cerebro_metric_loadavg15.c: Adjusted to use
	common function.

	* src/modules/metric/Makefile.am: Adjust for new files.

2006-08-25  Albert Chu  <chu11@llnl.gov>

	Add metric module support for load averages.

	* src/modules/metric/cerebro_metric_loadavg1.c,
	src/modules/metric/cerebro_metric_loadavg5.c,
	src/modules/metric/cerebro_metric_loadavg15.c,
	config/ac_loadavg.m4: New files.
	
	* src/modules/metric/Makefile.am, configure.ac,
	man/cerebro_module.3.in: Adjust appropriately for new metrics.
	
2006-07-26  Albert Chu  <chu11@llnl.gov>

	* config/ac_cerebro_module_dir.m4: Revert changes to fix distcheck.
	
2006-07-07  Albert Chu  <chu11@llnl.gov>

	* src/libs/util/network_util.c (low_timeout_connect): Alter return
	error based on getsockopt errno.
	
2006-07-03  Albert Chu  <chu11@llnl.gov>

	* src/libs, src/cerebrod: Support new listner ports, ips, and
	network interfaces.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculate_destination_ip_is_multicast_setting,
	_cerebrod_calculate_heartbeat_frequency_ranged_setting,
	_cerebrod_calculate_heartbeat_source_network_interface_in_addr_and_index,
	_cerebrod_calculate_heartbeat_destination_ip_in_addr): Removed
	functions.  Collapse code into
	_cerebrod_calculate_configuration_data.

	* man/cerebro.conf.5.in, man/cerebro_module_devel.3.in: Update
	with new configs appropriately.

	* Several minor bug fixes.

	* configure.ac: Upped library version.
	
2006-06-29  Albert Chu  <chu11@llnl.gov>

	* tagged pre_config_multi_subnet_reorg

	* src/libs/include/cerebro/cerebro_config.h,
	src/libs/util/config_util.c, src/cerebrod/cerebrod_config.h,
	src/cerebrod/cerebrod_config.c, src/cerebrod/cerebrod_listener.c,
	src/cerebrod/cerebrod_speaker.c, man/cerebro.conf.5.in,
	man/cerebro_module_devel.3.in: Globally rename/readjust
	heartbeat_network_interface to heartbeat_source_network_interface.

	* src/cerebrod/cerebrod_config.h,
	src/cerebrod/cerebrod_config.c, src/cerebrod/cerebrod_listener.c,
	src/cerebrod/cerebrod_speaker.c: Globally rename/readjust
	multicast config to destination_ip_is_multicast.

2006-06-29  Albert Chu  <chu11@llnl.gov>

	* tagged cerebro-1-0-4
	
2006-06-26  Albert Chu  <chu11@llnl.gov>

	* config/ac_cerebro_module_dir.m4: Cleanup using better workaround.
	
2006-06-19  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/hostlist.c: Update to newest library.
	
2006-04-14  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/error.h, src/libs/common/error.c: Add forgotten
	copyright headers.
	
2006-02-28  Albert Chu  <chu11@llnl.gov>

	* src/libs/include/Makefile.am: Fix typo.

	* config/ac_shutdown.m4: Fix typos.

	* cerebro.spec.in: Add shutdown module.
	
2006-02-27  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener_data.c (_setup_monitor_modules):
	Support multiple metrics in metric module.  Use new destroy
	function.

	* src/cerebrod/cerebrod_listener_data.c (cerebrod_monitor_module_destroy):
	new function.

	* src/modules/clusterlist/cerebro_clusterlist_hostsfile.c
	(hostsfile_clusterlist_node_in_cluster): Fix bug.

	* src/modules/clusterlist/cerebro_clusterlist_hostsfile.c
	(list_strcmp): New function.

	* src/libs/modules/metric_module.c
	(metric_module_send_heartbeat_function_pointer): Fix return bug.

2006-02-27  Albert Chu  <chu11@llnl.gov>
	
	* src/cerebrod/cerebrod_speaker.c (cerebrod_send_heartbeat): Fix
	port assignment bug.

	* src/modules/metric/cerebro_metric_shutdown.c
	(_metric_shutdown_handler): Fix corner case when multiple
	SIGTERM/SIGINT signals are received.

	* Beginning preparations to support multiple metrics logged by
	same monitor module.

	* src/cerebrod/cerebrod_listener_data.h,
	src/cerebrod/cerebrod_listener_data.c (_setup_monitor_modules),
	src/libs/include/cerebro/cerebro_monitor_module.h
	(cerebro_monitor_module_info), src/libs/modules/monitor_module.c
	(_monitor_module_cb): Rename "metric_name" to "metric_names"
	appropriately.

	* src/cerebrod/cerebrod_listener_data.c (_monitor_update): Update
	call to new API.

	* src/libs/include/cerebro/cerebro_monitor_module.h
	(Cerebro_monitor_metric_name): Renamed typedef to
	Cerebro_monitor_metric_names.

	* src/libs/include/cerebro/cerebro_monitor_module.h
	(Cerebro_monitor_metric_update): Updated with additional
	metric_name parameter.

	* src/libs/modules/monitor_module.h,
	src/libs/modules/monitor_module.c (monitor_module_metric_name):
	Rename to monitor_module_metric_names.

	* src/libs/modules/monitor_module.h,
	src/libs/modules/monitor_module.c
        (monitor_module_metric_update): Updated with additional
	metric_name parameter. Update call to new API.
	
	* man/cerebro_module_devel.3.in: Updated with new info.

2006-02-22  Albert Chu  <chu11@llnl.gov>

	Support new graceful shutdown metric module.

	* src/modules/metric/cerebro_metric_shutdown.c: New file.
	
	* config/ac_shutdown.m4: New file.

	* src/modules/metric/Makefile.am, configure.ac: Support new
	metric.

	* src/cerebrod/cerebrod_speaker.c (_speaker_socket_setup): Renamed
	to _speaker_socket_create due to new use.

	* src/cerebrod/cerebrod_speaker.c (cerebrod_send_heartbeat): New
	function.

	* man/cerebro_module.3.in: Update with new metric module info.

	* src/libs/include/protocol/cerebro_metric_control_protocol.h.in,
	src/libs/include/cerebro/cerebro_metric_server_protocol.h,
	src/libs/include/cerebro/cerebrod_heartbeat_protocol.h: Moved to
	src/libs/include/cerebro/.

	* Globally adjust for .h file location changes.

	* src/libs/include/cerebro/cerebro_metric_module.h: Support new
	Cerebro_metric_send_heartbeat_function_pointer function.

	* src/modules/metric/:  Support new
	Cerebro_metric_send_heartbeat_function_pointer function.

	* src/libs/modules/metric_module.h,
	src/libs/modules/metric_module.c
	(metric_module_send_heartbeat_function_pointer): New function.

	* src/cerebrod/cerebrod_speaker_data.c (_setup_metric_modules):
	Support Cerebro_metric_send_heartbeat_function_pointer
	functionality.

	* etc/cerebrod: Always kill via SIGTERM signal so it can be
	captured.
	
2006-01-18  Albert Chu  <chu11@llnl.gov>

	* Removed localisms.
	
	* tagged cerebro-1-0-3
	
2005-12-15  Albert Chu  <chu11@llnl.gov>

	* tagged cerebro-1-0-2
	
2005-12-14  Albert Chu  <chu11@llnl.gov>

	* README, TODO: Update for public release.

	* cerebro.spec.in

2005-11-04  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Add %dir directive for %{libdir}/cerebro to fix
	rpm install issue.
	
2005-10-24  Albert Chu  <chu11@llnl.gov>

	* tagged cerebro-1-0-1
	
2005-10-04  Albert Chu  <chu11@llnl.gov>

	* Another attempt to monitor ciod daemons properly.

	* etc/cerebrod-redhat, etc/cerebrod-suse: Removed files.

	* etc/cerebrod: New file which handles Redhat and Suse systems.

	* tagged cerebro-1-0-0-pre10
	
2005-09-22  Albert Chu  <chu11@llnl.gov>

	* Attempt to monitor ciod daemons through /proc only.

	* tagged cerebro-1-0-0-pre9
	
2005-09-15  Albert Chu  <chu11@llnl.gov>

	* Fix bgl_ciod monitoring bugs.
	
	* tagged cerebro-1-0-0-pre8

2005-09-14  Albert Chu  <chu11@llnl.gov>

	* Turn off metric controller by default on chaos systems.
	
2005-09-09  Albert Chu  <chu11@llnl.gov>

	* Added additional monitoring functionality to bgl ciod module.
	
2005-09-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebro-stat/cerebro-stat.c (_hostrange_output_data): Sort
	hostranges before output.

	* src/modules/metric/cerebro_metric_bgl_ciod.c: Add additional
	debug info.

	* src/cerebrod/cerebrod_util.c (cerebrod_reinit_socket): Handle
	additional corner case situations of a network or NIC going down.

	* tagged cerebro-1-0-0-pre7
	
2005-08-26  Albert Chu  <chu11@llnl.gov>

	* Fixed cerebrod-bgl-ion script.

	* tagged cerebro-1-0-0-pre6
	
2005-08-25  Albert Chu  <chu11@llnl.gov>

	* Update spec file for bglion build.

	* Major makefile rework.

	* Modules libs split up.

	* Variety of minor fixes

2005-08-24  Albert Chu  <chu11@llnl.gov>

	* Altered some debug message output conditions.

	* Added support for ubgl configuration and fixed up bgl
	configuration.

	* Fixed up spec file for bglion builds.

	* Altered some init.d script generation.

	* Fixed bug in bgl ciod config.

	* Fix gethostbyname bug.

	* Add support for --with-cerebrod-speaker-only option.
	
	* Add support for --with-cerebrod-no-threads option.
	
2005-08-23  Albert Chu  <chu11@llnl.gov>

	* Re-added static module build option.

	* Various minor fixes.

	* Various minor fixes to make cerebro work on ppc. 
	
2005-08-22  Albert Chu  <chu11@llnl.gov>

	* Fix minor build issues.
	
	* tag pre-static-build
	
2005-08-19  Albert Chu  <chu11@llnl.gov>

	* src/libs/common/list.c, src/libs/common/hash.c: Remove memory
	buffering.

	* Make speaker run in main() for lower memory usage.

	* Fix metric controller corner case regarding metric list length.

2005-08-18  Albert Chu  <chu11@llnl.gov>

	* Various configuration fixes to ensure a good bgl ion build.

	* Renamed gendersllnl config module the chaos config module.

	* Added bgl config module.
	
2005-08-17  Albert Chu  <chu11@llnl.gov>

	* bgl ciod logic fix.
	
2005-08-16  Albert Chu  <chu11@llnl.gov>

	* Various cleanup fixes.

	* META: Prepare for new release.

	* tagged cerebro-1-0-0-pre5
	
2005-08-15  Albert Chu  <chu11@llnl.gov>

	* configure.ac: Remove pointless autoconf calls.

	* etc/Makefile.am: Fix distcheck bug
	
2005-08-09  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Add bglion build.

	* Add init script for suse.
	
2005-08-08  Albert Chu  <chu11@llnl.gov>

	* Continued work to lower virtual and resident memory size.

	* Continued work to lesson binary size.

	* Complete initial bgl ciod metric module work.
	
2005-08-05  Albert Chu  <chu11@llnl.gov>

	* Some manpage fixing.

	* Fix some unlink corner cases.

	* Fix some socket setup corner cases.

	* tagged pre-lib-mem-rework-1

	* Begin rework to make resident memory size and virutal memory
	size smaller for cerebrod.
	
2005-08-04  Albert Chu  <chu11@llnl.gov>

	* Begin work on bgl ciod monitoring module.

2005-07-26  Albert Chu  <chu11@llnl.gov>

	* Fix cerebro-admin and cerebro-stat bugs.

	* Shorten slurm_state period.

	* API interface modifications.

	* Code logic fixes.

	* Code cleanup.

	* Fix dist.

	* Re-org protocol header files and make available #defines not
	related to protocols.
	
2005-07-25  Albert Chu  <chu11@llnl.gov>

	* Added metric origins to metric names index in cerebrod.

	* Fix server restart bug.

	* Add flush ability to metric controller.

	* Added flush libcall and manpages.

	* Added flush to cerebro-admin.
	
2005-07-22  Albert Chu  <chu11@llnl.gov>

	* man/cerebro.1.in: Removed.

	* Added all GPL stuff.

	* Updated documentation with various updates.

	* Added ability to propogate and retrieve last receive time for
	metrics.

2005-07-21  Albert Chu  <chu11@llnl.gov>

	* Fix various metric controller bugs.

	* Complete cerebro-admin.

	* Alter metric period logic and metric module period retrieval.

	* Added ability for metric modules to inform the cerebrod daemon
	of a metric update.

	* cerebro.spec.in: Tweak default permissions.
	
2005-07-20  Albert Chu  <chu11@llnl.gov>

	* Added metric_util lib to clean up code and fix corner cases.

	* Began cerebro-admin.

2005-07-18  Albert Chu  <chu11@llnl.gov>

	* Added additional protocol corner case checks.

	* Fixed string length == 0 corner case problem.

	* Cleaned up some autoconf macros.

	* Added and use configurable SLURM_STATE_CONTROL_PATH.

	* Autoconfed CEREBRO_METRIC_CONTROL_PATH

	* Add metric controller API manpages.

	* Fixed metric max corner case bug.

2005-07-15  Albert Chu  <chu11@llnl.gov>

	* Fixed metric controller bugs.

	* Fixed null packet string bugs.

	* Added metric restart capability.
	
2005-07-12  Albert Chu  <chu11@llnl.gov>

	* Finished initial work on cerebrod metric controller.

	* Added libcerebro metric control API.
	
2005-07-11  Albert Chu  <chu11@llnl.gov>

	* Cleanup cerebrod_speaker_data.[ch] in preparation for metric
	control code.

	* Begin development of metric controller.

	* Fixed potential fd leak in socket reinitialization routines.

	* Fix some buffer overflow bugs.
	
2005-07-08  Albert Chu  <chu11@llnl.gov>

	* Re-named 'metric_protocol' to 'metric_server_protocol' globally
	in preparation of new features being added in.

	* tagged pre-metric-server-protocol-rework-1

	* re-worked cerebrod for metric server protocol change

	* tagged pre-metric-server-protocol-rework-1-a

	* re-worked cerebro lib for metric server protocol change

	* tagged post-metric-server-protocol-rework-1

	* tagged pre-metric-control-protocol-1

	* src/libs/include/cerebro/cerebro_metric_control_protocol.h: New
	file.
	
2005-07-07  Albert Chu  <chu11@llnl.gov>

	* Completed cerebro-stat tool.

	* Added hostlist wrappers.

	* Added cerebro-stat manpage.

	* cerebro.spec.in: Updated.

	* Fix pthread creation bugs.

	* tagged cerebro-1-0-0-pre4
	
2005-07-06  Albert Chu  <chu11@llnl.gov>

	* Continue work on cerebro-stat tool.

	* Fix pthread stack size bug.

	* Fix metric server double hostname return bug.
	
2005-07-05  Albert Chu  <chu11@llnl.gov>

	* Begin work on cerebro-stat tool.

	* Various bug fixes.
	
2005-07-02  Albert Chu  <chu11@llnl.gov>

	* More code cleanup.
	
2005-07-01  Albert Chu  <chu11@llnl.gov>

	* Fix various mem-leaks and bugs.

	* Massive code cleanup.
	
2005-06-29  Albert Chu  <chu11@llnl.gov>

	* Fix remaining version checking bugs.

	* Fix maximum packet length buffer bugs.

	* Sort metric modules based on next call time for faster on
 	average searches.

	* Added network util functions for common network code.

	* Fix assert/wrappers code.

	* Errnum support in util lib.
	
2005-06-28  Albert Chu  <chu11@llnl.gov>

	* Continued bug fixes and code cleanup.

	* Updated manpages.

	* Performance improvement through use of index instead of list for
	metric names.

	* Fix protocol version checking bugs.
	
2005-06-27  Albert Chu  <chu11@llnl.gov>

	* Re-work cerebrod and libcerebro to use debug lib.

	* Various bug fixes and code enhancement..
	
2005-06-26  Albert Chu  <chu11@llnl.gov>

	* Re-work modules lib and util lib to use debug library.

	* Re-work modules to use debug library.

	* cerebro.spec.in: Support debug build.
	
2005-06-24  Albert Chu  <chu11@llnl.gov>

	* Continued worked on metric_names metric.

	* tagged post-metric-names-metric-1

	* Various code cleanup and corner case fixing.

	* Added debug library.
	
2005-06-23  Albert Chu  <chu11@llnl.gov>

	* Fixed slurm_state metric bugs.

	* cerebro.spec.in: Updated for slurm_state metric.

	* Various minor bug fixes.

	* tagged pre-metric-names-metric-1

	* Begin work to support metric_names metric

	* Begin work on metriclist API.
	
2005-06-22  Albert Chu  <chu11@llnl.gov>

	* Removed raw data metric.

	* Various cleanup.

	* tagged pre-metric-thread-1

	* Added metric thread support.

	* Added slurm_state metric module.

2005-06-21  Albert Chu  <chu11@llnl.gov>

	* Begin work on speaker scheduler.

	* Various minor fixes.

	* tagged pre-speaker-data-integration-1

	* integrate speakder-data
	
	* tagged post-speaker-data-integration-1

	* Split off wrappers off into a library.
	
2005-06-20  Albert Chu  <chu11@llnl.gov>

	* Split off cerebro utility functions and created libutil
	convenience library.

	* Documentation update.

	* Various code cleanup.
	
	* tagged cerebro-1-0-0-pre3

2005-06-18  Albert Chu  <chu11@llnl.gov>

	* Various minor fixes.

	* Split off libcerebro modules library into libmodules.
	
2005-06-17  Albert Chu  <chu11@llnl.gov>

	* Minor cleanup.

	* Significant libcerebro code cleanup, module library code split
	up.

	* tagged pre-library-reorg-1

 	* Library reorganization.

	* New libcerebro_error library.
	
2005-06-16  Albert Chu  <chu11@llnl.gov>

	* Fixed up locking issues.

	* Marshall library cleanup.

	* Error library cleanup.

	* Various bug fixing

	* tagged pre-static-compilation-remove-1

	* Removed everything related to static compilation.

	* tagged post-static-compilation-remove-1

	* Various calculation tweaks and bug fixes.

	* Monitor module tweaking.

	* cerebrod speaker logic fixing.

	* Metric module tweaking.
	
2005-06-15  Albert Chu  <chu11@llnl.gov>

	* Fixed static compilation bugs.

	* Remove hostlist files.

	* New libmarshall library.  Rework libcerebro and cerebrod around
	new lib.

	* Various cleanup fixes.

	* Implemented and use new marshall wrapper functions.
	
2005-06-14  Albert Chu  <chu11@llnl.gov>

	* Added finishing touches to monitor support in cerebrod.

	* Bug fixes to get bootlog monitoring to work.

	* cerebro.spec.in, Makefile, autoconf: Varoius updates for new
	appropriate packages and builds.
	
2005-06-13  Albert Chu  <chu11@llnl.gov>

	* Rename monitor module metric module in preparation for changes.

	* tagged pre-monitor-module-2

	* Added monitor module support.

	* Added bootlog monitor module.

	* Added monitor module support to libcerebro.

	* Begin adding monitor support in cerebrod.
	
2005-06-10  Albert Chu  <chu11@llnl.gov>

	* Various code cleanup.

2005-06-09  Albert Chu  <chu11@llnl.gov>

	* Added support for CEREBRO_METRIC_FLAGS_NONE_IF_DOWN flag.

	* tagged pre-monitor-module-1

	* Various code cleanup
	
	* Added new monitoring modules support.

	* Added boottime monitor module.

	* Added monitor module support to libcerebro.

	* Use boottime module rather than hardcoded boottime in cerebrod.

2005-06-08  Albert Chu  <chu11@llnl.gov>

	* Add support for RAW datatype.

	* Documented and made metric defaults available via cerebro.h.

	* Various documentation fixes, bug fixes, and code cleanup.
	
	* tagged pre-libcerebro-module-rework-2

	* Re-worked module library in libcerebro in anticipation of
	monitoring modules.

2005-06-07  Albert Chu  <chu11@llnl.gov>

	* Removed hard defined maximum metric count.  Added
	cerebrod_metric_max configuration option.

	* Removed hard defined packet buffer for situations where the
	received/sent packet size is not known.

	* Added get configuration routines to libcerebro.

	* Documented and made flags and value types available via
	cerebro.h.
	
	* Various bug fixes.

	* Various code cleanup.

	* Various documentation cleanup/fixing.

2005-06-06  Albert Chu  <chu11@llnl.gov>

	* tagged pre-heartbeat-protocol-change-1

	* Removed starttime metric.

	* Reworked heartbeat protocol to use variable length data.

	* Reworked heartbeat protocol to use variable length metrics.

	* Reworked metric protocol to use variable length data.

	* Reworked libcerebro library around new protocol.
	
2005-06-03  Albert Chu  <chu11@llnl.gov>

	* Cleaned up module loading/unloading libcerebro library calls.
	Calls now allow multiple cerebro handles to safely load/unload
	modules.

	* tagged pre-libcerebro-metric-type-rework-1

	* Rework metric_type storage and retrieval 

	* Add various flags for metric data retrieval
	
2005-06-02  Albert Chu  <chu11@llnl.gov>

	* src/modules/cerebro_config_gendersllnl.c: Default 'hostnames' on
	compute nodes are the alternate nodenames, not primary nodenames.

	* src/cerebrod/cerebrod_node_data.c
	(_cerebrod_metric_name_list_dump): Fix output bug.

	* tagged pre-libcerebro-module-rework-1
	
2005-06-01  Albert Chu  <chu11@llnl.gov>

	* Various bug fixes and code cleanup.

	* Complete manpage cleanup.
	
	* tagged cerebro-1-0-0-pre2

2005-05-31  Albert Chu  <chu11@llnl.gov>
	
	* Completed Rework.

	* Begin cleaning up manpages.
	
2005-05-30  Albert Chu  <chu11@llnl.gov>
	
	* Continued rework.
	
2005-05-29  Albert Chu  <chu11@llnl.gov>

	* Continued rework.
	
2005-05-28  Albert Chu  <chu11@llnl.gov>

	* tagged pre-libcerebro-rework-1

	* begin libcerebro rework around metric server and metric data.

	* remove all updown server references

	* remove duplicate functions in libcerebro

	* remove unnecessary libcerebro functions

	* rework libcerebro nodelist api
	
2005-05-27  Albert Chu  <chu11@llnl.gov>

	* Continue work on metric server.

	* Bug fixes.
	
2005-05-26  Albert Chu  <chu11@llnl.gov>

	* Continue work on metric server.

	* Various bug fixes.

2005-05-25  Albert Chu  <chu11@llnl.gov>

	* Continue work on metric server.

	* Remove API functions obsoleted by nodelists.
	
2005-05-24  Albert Chu  <chu11@llnl.gov>

	* Minor cleanup and bug fixes.
	
2005-05-23  Albert Chu  <chu11@llnl.gov>

	* Re-org duplicate code into common code.

	* Begin re-org of library to use list interface.
	
2005-05-19  Albert Chu  <chu11@llnl.gov>

	* Rename status to metric due to design and goal differences from
	original ganglia implementation.

	* Rework of node data lists and hashes into one global node data
	list and hash.

	* Added float and double marshalling/unmarshalling functions.

2005-05-18  Albert Chu  <chu11@llnl.gov>

	* Complete status listener.
	
2005-05-17  Albert Chu  <chu11@llnl.gov>

	* Removed unused error codes.

	* Begin status server work.
	
2005-05-17  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Update chaos build.
	
	* tagged cerebro-1-0-0-pre1
	
2005-05-16  Albert Chu  <chu11@llnl.gov>

	* Typo fixes.

	* Fix libdir path calculation.
	
2005-05-15  Albert Chu  <chu11@llnl.gov>

	* Slight library function names re-wording.
	
2005-05-11  Albert Chu  <chu11@llnl.gov>

	* Hide remaining functions that shouldn't be exported by
	libcerebro, or hide through not distributing .h file and
	underscoring them.

	* Added nodes iterator interface to libcerebro.

2005-05-10  Albert Chu  <chu11@llnl.gov>

	* More manpage cleanup/fixes.

	* Small design cleanup/changes.

	* cerebro.spec.in: Add daemon start/stop installation routines.
	
2005-05-09  Albert Chu  <chu11@llnl.gov>

	* Hide functions that shouldn't be exported.

	* New CEREBRO_DEBUG definition.  Rework code to use instead of
	NDEBUG.

2005-05-08  Albert Chu  <chu11@llnl.gov>

	* More manpage additions.
	
2005-05-06  Albert Chu  <chu11@llnl.gov>

	* Minor bug fixes.
	
2005-05-05  Albert Chu  <chu11@llnl.gov>

	* Re-org libcerebro include headers.

	* Various bug fixes.

	* Continue addition of manpages.
	
2005-05-04  Albert Chu  <chu11@llnl.gov>

	* Major code cleanup in preparation for beta release.

	* Rework so libcerebro doesn't export pthread functions.

	* Begin writing manpages.
	
2005-05-03  Albert Chu  <chu11@llnl.gov>

	* Rework config file and config module into one load_config
	libcerebro call.  Rework libcerebro and cerebrod around this new
	API.

	* Various library cleanup.  Function renaming, err_debug_lib,
	error debug output cleanup and additions.

	* Various module cleanup.  Use cerebro_err_debug_module function
	instead of cerebro_err_debug.
	
2005-05-02  Albert Chu  <chu11@llnl.gov>

	* Add config file funcs into libcerebro.

	* Work config file loading/unloading into libcerebro updown library.
	
	* Work config file funcs in cerebrod.

	* Renamed cerebrod.conf.5.in to cerebro.conf.5.in.  Re-work for
	new configuration options and generalize for all of cerebro.

	* Manpage cleanup.
	
2005-05-01  Albert Chu  <chu11@llnl.gov>

	* Rework cerebro lib and cerebrod daemon to use default module so
	that binaries do not need to be aware of whether a module is
	loaded or not.
	
2005-04-30  Albert Chu  <chu11@llnl.gov>

	* Removed none module.

	* Reworked cerebro lib and cerebrod daemon to assume none module
	behavior when a clusterlist module is not loaded.

	* Remove clusterlist and config configuration command line options
	and configuration file options.  Now modules are searched for and
	that's it.

	* Make hostsfile module configurable at compile time.
	
2005-04-29  Albert Chu  <chu11@llnl.gov>

	* Added parse_options function to config modules.

	* Create new libmodule for common parse_options code between
	  clusterlist and config modules.

	* Putting module search and loading into libcerebro.

	* Rework cerebrod to use new libcerebro module functions.

	* Remove -c and -m options from cerebrod in non-debug mode.

	* Support clusterlist modules in libcerebro updown library.

	* Fixed various bugs.
	
2005-04-28  Albert Chu  <chu11@llnl.gov>

	* Re-worked packet unmarshalling logic.

	* Fixed updown server to handle more error conditions.

	* Allow updown server to return invalid packet format error code.

	* Shorten hostnames in hostsfile clusterlist module.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_create_and_setup_socket): Turn on SO_REUSEADDR
	for server debugging.

	* Finished first round of libcerebro updown API.

	* Put all lib functions under just cerebro.h.

2005-04-27  Albert Chu  <chu11@llnl.gov>

	* Re-worked modules to not exit on errors, error handling is now
	the reponsibility of the caller.

	* Re-worked cerebrod daemon around above changes.
	
2005-04-26  Albert Chu  <chu11@llnl.gov>

	* Continued libcerebro updown library work.

	* Fixed packet unmarshalling bugs in cerebrod.

	* Fixed various corner case bugs in cerebrod server.
	
2005-04-25  Albert Chu  <chu11@llnl.gov>

	* Added support to search for arbitrary modules rather than only
	those defined.

	* Various build fixes.

	* Continued code cleanup and minor bug fixing.

	* Begin work on cerebro updown API.
	
2005-04-22  Albert Chu  <chu11@llnl.gov>

	* src/libcerebro/cerebrod_config_module.h: Renamed to
	cerebro_config_module.h.  All variable names changed/adjusted
	appropriately.

	* Reworked cerebrod based on variable name changes and header file
	renaming.

	* Various re-work, slight design changes, and code cleanup to
	prepare for libcerebro updown library.

	* cerebro.spec.in: Updated for builds.

	* Fixed distcheck errors throughout.
	
2005-04-21  Albert Chu  <chu11@llnl.gov>

	* src/libcerebro/cerebro_error.h, src/libcerebro/cerebro_error.c:
	New files.

	* src/cerebrod/cerebrod_error.h, src/cerebrod/cerebrod_error.c:
	Removed files.
	
	Reworked error output based on new cerebro_error library API.

	Code cleanup throughout.

	Added mapping to cerebrod and modules.
	
2005-04-20  Albert Chu  <chu11@llnl.gov>

	Partitioned clusterlist and config modules into separate dir.
	Major Changes throughout.
	
2005-04-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Added genders indexing.

	* config/ac_gendersllnl.m4: Check for genders indexing.

	* src/libcommon/Makefile.am: Put libwrappers and libcommon back
	into just libcommon.

	* src/cerebrod/Makefile.am,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_utilc,
	src/cerebrod/cerebrod_clusterlist_genders_util.h,
	src/cerebrod/cerebrod_clusterlist_genders_util.c: Remove symbols
	exporting, force all modules to hae the symbols they require.
	Made appropriate changes to support this.

2005-04-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_node_in_cluster),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_get_nodename,
	gendersllnl_clusterlist_node_in_cluster): Use buffer instead of
	strdup for shortening the nodename.
	
2005-03-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/Makefile.am: modulelib dir based on module dir
	determined in autoconf.
	
2005-03-30  Albert Chu  <chu11@llnl.gov>

	* Minor code cleanup throughout

	* src/cerebrod/cerebrod_updown.c (cerebrod_updown_update_data):
	Fix race condition.

	* configure.ac, src/libcerebro/Makefile.am: Add library
	versioning.

	* src/libcerebro/cerebro.map: New file.

	* src/libcerebro/Makefile.am: Add symbol export map.

	* Globally rename hostname to nodename.  Rename 'node' variables
	to 'nodename' variables.
	
2005-03-29  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_error.h, src/cerebrod/cerebrod_error.c
	(cerebrod_err_init, cerebrod_err_get_flags,
	cerebrod_err_set_flags, cerebrod_err_output, cerebrod_err_exit):
	New functions.

	* src/cerebrod/: Globally use new err functions appropriately and
	various code cleanup.
	
2005-03-29  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c (cerebrod_config_cleanup): Fix
	static modules bug.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_parse): Minor
	debugging fix.
	
	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_send_node_responses): New function.
	
	* src/libcerebro/cerebro_updown_protocol.h,
	src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_request_marshall,
	_cerebrod_updown_evaluate_updown_state,
	_cerebrod_updown_respond_with_updown_nodes): Continued work to
	complete updown server functionality.

	* src/cerebrod/cerebrod_error.h, src/cerebrod/cerebrod_error.c:
	New files.

	* src/cerebrod/: Globally use cerebrod_err_debug instead of
	err_debug when appropriate.

	* src/libcommon/Makefile.am, src/cerebrod/Makefile.am: Split off
	libcommon libraries into libcommon and libwrappers.

	* src/cerebrod/cerebrod.c (main): Fix spinning loop issue.

	* src/libcerebro/cerebro_updown_protocol.h: Define default server port.

	* src/cerebrod/cerebrod_config.h: Use defined default server port.

	* src/cerebrod/cerebrod_speaker.c (_cerebrod_speaker_initialize):
	Improve initialization routine.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c: Add function
	name output to wrappers.
	
2005-03-28  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_evaluate_updown_state): Continued work.
	
2005-03-27  Albert Chu  <chu11@llnl.gov>

	* src/libcerebro/cerebro_marshalling.h,
	src/libcerebro/cerebro_marshalling.c (cerebro_marshall_int8,
	cerebro_marshall_uint8, cerebro_unmarshall_int8,
	cerebro_unmarshall_uint8): New functions.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_evaluate_updown_state,
	_cerebrod_updown_respond_with_node,
	_cerebrod_updown_respond_with_updown_nodes,
	_cerebrod_updown_send_response): New functions.
	
2005-03-26  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Listen,
	Accept, Select, Poll, wrap_listen, wrap_accept, wrap_select,
	wrap_poll): New macros and functions.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_respond_with_error,
	_cerebrod_updown_request_dump, _cerebrod_updown_receive_request,
	_cerebrod_updown_request_unmarshall,
	_cerebrod_updown_response_marshall): New functions.

	* src/cerebrod/cerebrod_updown.c
	(_cerebrod_updown_service_connection): Use new functions.
	
	* src/libcerebro/cerebrod_updown_protocol.h: Minor cleanup.

	* src/cerebrod/cerebrod_config.c (cerebrod_config_cleanup): Fix
	dl_handle bug.
	
2005-03-25  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Gethostbyname, Inet_ntop, wrap_gethostbyname, wrap_inet_ntop):
	New macros and functions.

	* src/cerebrod/cerebrod_config_gendersllnl.c
	(gendersllnl_config_load_default): Add altname support.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config_cleanup): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config): Rename to cerebrod_config_setup.

	* src/cerebrod/cerebrod.c (main): Update for function name change.

	* src/cerebrod/cerebrod_config.c (_config_load_dynamic_module,
	_cerebrod_config_module_setup): Remove calls to Lt_dlclose and
	Lt_dlexit, so config module is kept upon on exit.

	* src/libcerebro/cerebro_defs.h,
	src/libcerebro/cerebrod_heartbeat_protocol.h,
	src/libcerebro/cerebro_updown_protocol.h: New files.
	
	* src/cerebrod/: Re-work for new header files and variable renaming.

	* src/libcerebro/cerebro_marshalling.h,
	src/libcerebro/cerebro_marshalling.c: New files.

	* src/cerebrod/cerebrod_heartbeat.c: Re-worked for use of new library functions.

	* src/cerebrod/Makefile.am: Updated for new library.
	
2005-03-23  Albert Chu  <chu11@llnl.gov>

	Begin work on libcerebro

	* src/libcerebro/Makefile.am,
	src/libcerebro/cerebrod_config_module.h,
	src/libcerebro/cerebrod_clusterlist.h: New files.

	* configure.ac, src/Makefile.am: Updated for new files and directories.

	* src/libcommon/fd.c (fd_write_n): Remove warnings.

	* src/cerebrod/cerebrod_clusterlist.h: Remove useless headers.

	* src/cerebrod/cerebrod_clusterlist_utils.c: Fix header problems.

	* src/cerebrod/cerebrod_config.h,
	src/cerebrod/cerebrod_clusterlist.h: Removed definitions and
	declarations due to new ones in
	src/libcerebro/cerebrod_config_module.h and
	src/libcerebro/cerebrod_clusterlist.h.

	* src/cerebrod/cerebrod_config.c,
	src/cerebrod_config_gendersllnl.c
	src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod_clusterlist_genders.c,
	src/cerebrod_clusterlist_gendersllnl.c: Include new headers as
	needed.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_load_alternate_configuration): Reworked as needed for
	by new headers.

2005-03-22  Albert Chu  <chu11@llnl.gov>

	More code cleanup

	* src/cerebrod/cerebrod_static_modules.c,
	src/cerebrod/cerebrod_dynamic_modules.h,
	src/cerebrod/cerebrod_dynamic_modules.c: New files.

	* src/cerebrod/Makefile.am: Re-worked for new files appropriately.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_find_static_config_module,
	_cerebrod_find_static_clusterlist_module): Removed due to new
	common functions in src/cerebrod/cerebrod_static_modules.c.

	* src/cerebrod/cerebrod_config.c: Removed static_config_modules
	and config_modules arrays due to new ones stored in
	src/cerebrod/cerebrod_static_modules.c and
	src/cerebrod/cerebrod_dynamic_modules.c.

	* src/cerebrod/cerebrod_clusterlist.c: Removed
	static_clusterlist_modules and clusterlist_modules arrays due to
	new ones stored in src/cerebrod/cerebrod_static_modules.c and
	src/cerebrod/cerebrod_dynamic_modules.c.

	* src/cerebrod/cerebrod_util.h, src/cerebrod/cerebrod_util.c
	(cerebrod_search_dir_for_module): Moved into
	src/cerebrod/cerebrod_dynamic_modules.h and
	src/cerebrod/cerebrod_dynamic_modules.c.

	* src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_clusterlist.c: Use common functions for
	effectively overall.  Fix for new variable and function names.

	* src/cerebrod/cerebrod_config.c (_cerebrod_cmdline_parse_check):
	Fix bug.

2005-03-21  Albert Chu  <chu11@llnl.gov>
	
	Static module compilation code cleanup

	* Globally remove config_type and clusterlist_type.  Everything
	will be referred to as modules, despite being compiled statically
	or not.

	* config/ac_static_modules.m4: Turn --with-static-modules to
	--enable-static-modules.

	* man/cerebrod.8.in, man/cerebrod.conf.5.in: Updated with static
	modules wording.

	* src/cerebrod/cerebrod_config.c (_cerebrod_find_static_module,
	_cerebrod_load_alternate_configuration,
	_cerebrod_find_static_clusterlist_module) New functions.

	* src/cerebrod/cerebrod_config.c (_config_load_static_modulem,
	_config_load_module, _cerebrod_cmdline_parse_check,
	_cerebrod_pre_calculate_configuration_config_check): Use new
	common functions.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup):
	Add null pointer check.

	* src/cerebrod/cerebrod_clusterlist.c
	(_clusterlist_check_module_data): New function.

	* src/cerebrod/cerebrod_clusterlist.c
	(_clusterlist_load_static_module, _clusterlist_load_module): Use
	new common functions.

2005-03-21  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist.h: Modified
	Cerebrod_clusterlist_get_nodename prototype to take a unsigned int
	buflen instead of an int buflen.

	* src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod_clusterlist_genders.c,
	src/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_util.c: Modified for changed
	parameter type.

	* src/: Added more commenting throughout and various code cleanup

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(_remove_comments): Fix loop bug.

	* config/ac_genders.m4, config/ac_gendersllnl.m4: Make genders and
	gendersllnl auto-configurable on or off.  Various cleanup.

	* configure.ac: Support cleanup.

	Support static module compilation

	* config/ac_static_modules.m4: New file.

	* configure.ac: Add static modules option.

	* src/cerebrod/cerebrod_config.h: Collapse struct
	cerebrod_config_module_ops into struct
	cerebrod_config_module_info.

	* src/cerebrod/cerebrod_config.c (_config_load_module),
	src/cerebrod/cerebrod_config_gendersllnl.c: Updated for structure
	changes.
	
	* src/cerebrod/cerebrod_clusterlist.h: Collapse struct
	cerebrod_clusterlist_module_ops into struct
	cerebrod_clusterlist_module_info.

	* src/cerebrod/cerebrod_clusterlist.c (_clusterlist_load_module),
	src/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod_clusterlist_genders.c,
	src/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod_clusterlist_util.h: Updated for structure changes.

	* src/cerebrod/cerebrod_config.h: Add config_type and
	clusterlist_type and clusterlist_type_options to struct
	cerebrod_config.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_default):
	Initialize new variables appropriately.

	* src/cerebrod/cerebrod_config.c (_usage, _cerebrod_cmdline_parse,
	_cerebrod_cmdline_parse_check): Appropriately output, parse, and
	check new config_type option.

	* src/cerebrod/cerebrod_config.c (_config_load_static_module): New
	function.

	* src/cerebrod/cerebro_config.c (_cerebrod_config_module_setup):
	Call static or dynamic module loader appropriately.

	* src/cerebrod/cerebrod_config.c (_cb_module_options): Renamed
	_cb_options.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_parse): Parse
	clusterlist_type and clusterlist_type_options configuration
	options.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculate_clusterlist_module): Check static modules
	list appropriately.

	* src/cerebrod/cerebrod_clusterlist.c
	(_clusterlist_load_static_module): New function.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_setup): Support static modules.

	* src/libcommon/Makefile.am, src/libcommon/wrappers.h,
	src/libcommon/wrappers.c: Don't compile ltdl when compiling
	statically.

	* src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c: Rename some
	globals to stop name clobbering on static builds.

	* src/cerebrod/cerebrod_static_modules.h: New file.
	
2005-03-20  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_pre_calculate_configuration_config_check): Add port
	checks.

	* src/cerebrod/cerebrod_config.h: New default ports.

	* man/cerebrod.conf.5.in: Completed first draft.

	* src/cerebrod/cerebrod_config.c (_config_load_module),
	src/cerebrod/cerebrod_clusterlist.c (_clusterlist_load_module):
	Add additional module loading checks.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_setup): Fix filename bug.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup,
	_cerebrod_cmdline_parse_check): Fix logic error in check/load
	routines.  Rename "configfile" and "configmodule" to "config_file"
	and "config_module" globally respectively.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_dump): Add
	forgotten field.

	* src/cerebrod/cerebrod_cache.h, src/cerebrod/cerebrod_cache.c:
	Renamed to cerebrod_system_data.h and cerebrod_system_data.c.  API
	modified appropriately and changed globally.

	* src/cerebrod/: Added significant commenting and documentation
	throughout code and various cleanup.

2005-03-19  Albert Chu  <chu11@llnl.gov>

	* Fixed variety of compiler warnings.

	* man/cerebro.1.in: New file.
	
	* configure.ac, man/Makefile.am: Updated for new manpages.

	* config/ac_cerebrod_configfile.m4: New file.

	* configure.ac: Add ac_cerebrod_configfile config option.

	* config/ac_hostsfile.m4: AC_SUBST the hostsfile.

	* config/ac_cerebrod_module_dir.m4: New file.

	* configure.ac, src/cerebrod/Makefile.am: CEREBROD_MODULE_DIR now
	defined by AC_CEREBROD_MODULE_DIR.

	* src/cerebrod/cerebrod_util.h, src/cerebrod/cerebrod_util.c
	(cerebrod_search_dir_for_module): Include modules list length.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup),
	src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_setup):
	Support new cerebrod_search_dir_for_module interface.

	* man/cerebrod.8.in: Completed first draft.

	* config/ac_genders.m4, config/ac_gendersllnl.m4: Add manpage
	substitution flags.
	
2005-03-18  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup,
	_find_config_module, _search_dir, _load_module): New functions.

	* src/cerebrod/cerebrod_config.c (cerebrod_config): Call
	_cerebrod_config_module_setup.

	* src/cerebrod/cerebrod_config_gendersllnl.c: New file.

	* src/cerebrod/Makefile.am: Adjusted for new module.

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Fix argument param bug.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_parse_options): Fix assertion bug.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_post_calculate_configuration_config_check),
	src/cerebrod/cerebrod.c (_cerebrod_post_config_initialization):
	Move option parsing from
	_cerebrod_post_calculate_configuration_config_ to
	_cerebrod_post_config_initialization.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_dump): Fix
	clusterlist_module_options output.

	* src/cerebrod/cerebrod_config.c (_cerebrod_cmdline_parse_check):
	New function.

	* src/cerebrod/cerebrod_config.c (cerebrod_config): Call
	_cerebrod_cmdline_parse_check.

	* src/cerebrod/cerebrod_util.h, src/cerebrod/cerebrod_util.c
	(cerebrod_search_dir_for_module): New function.

	* src/cerebrod/cerebrod_config.c (_find_config_module),
	src/cerebrod/cerebrod_clusterlist.c (_find_clusterlist_module):
	Removed functions.

	* src/cerebrod/cerebrod_config.c (_load_module),
	src/cerebrod/cerebrod_clusterlist.c (_load_module): Return 1 on
	sucess.

	* src/cerebrod/cerebrod_config.c (_cerebrod_config_module_setup),
	src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_setup):
	Use new cerebrod_search_dir_for_module.

	* src/cerebrod/cerebrod_config.c (_load_module): Globally rename
	to _config_load_module.

	* src/cerebrod/cerebrod_clusterlist.c (_load_module): Globally
	rename to _clusterlist_load_module.

	* man/cerebrod.8.in, man/cerebrod/cerebrod.conf.5.in: New files.

	* configure.ac, man/Makefile.am: Updated for new manpages.

2005-03-17  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(_parse_options),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_parse_options): Fix cut and paste typos.

	* src/cerebrod/cerebrod_clusterlist.c (_load_module, _search_dir):
	Fix logic errs in search paths.

	Re-architect option parsing logic.

	* src/cerebrod/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_util.c: New files.
	
	* src/cerebrod/cerebrod_clusterlist_hostsfile.c (_parse_options),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(_parse_options), src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_parse_options): Removed functions.

	* src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_none.c,
	src/cerebrod/cerebrod_clusterlist_hostsfile.c,
	src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c: Change
	cerebrod_clusterlist_ops to cerebrod_clusterlist_module_ops
	globally.

	* src/cerebrod/cerebrod_clusterlist.h: New
	Cerebrod_clusterlist_parse_options typedef.  Added
	Cerebrod_clusterlist_parse_options into
	cerebrod_clusterlist_module_ops.  New
	cerebrod_clusterlist_module_info definition.  

	* src/cerebrod/cerebrod_clusterlist.c (_load_module): Search and
	load clusterlist_module_info symbol.

	* src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_parse_options): New function.

	* src/cerebrod/cerebrod_clusterlist_none.c
	(none_clusterlist_parse_options),
	src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_parse_options),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_parse_options),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_parse_options): New functions.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_post_calculate_configuration_config_check): Call
	cerebrod_clusterlist_parse_options.

	* src/cerebrod/cerebrod.c (_cerebrod_post_config_initialization):
	Ignore SIGPIPE if we are running any servers.

	* src/cerebrod/cerebrod_clusterlist_util.h,
	src/cerebrod/cerebrod_clusterlist_util.c
	(cerebrod_clusterlist_copy_nodename): New function.
	
	* src/cerebrod/cerebrod_clusterlist_none.c
	(none_clusterlist_get_nodename),
	src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_get_nodename),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_get_nodename): Use
	cerebrod_clusterlist_copy_nodename new.

	* src/cerebrod/cerebrod_clusterlist_genders_util.h,
	src/cerebrod/cerebrod_clusterlist_genders_util.c: New files.

	* src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c: Rework to use
	common functions in
	src/cerebrod/cerebrod_clusterlist_genders_util.c.

	* src/cerebrod/cerebrod_cache.c (_cerebrod_cache_hostname): No
	truncation needed anymore.

	* src/cerebrod: Globally change MAXHOSTNAMELEN to
	CEREBROD_MAXHOSTNAMELEN.  Don't depend on sys/param.h.

	* src/cerebrod/cerebrod_cache.c (_cerebrod_cache_hostname,
	cerebrod_get_hostname), src/cerebrod/cerebrod_listener.c
	(cerebrod_listener): Re-work so hostname could be
	CEREBROD_MAXHOSTNAMELEN in length exactly.  Null termination not
	required in the packet itself.

	* Begun initial work on config modules.
		
2005-03-16  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/argv.h, src/libcommon/argv.c: Removed files.
	
	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Argv_create,
	Argv_destroy, wrap_argv_create, wrap_argv_destroy): Removed.

	* src/libcommon/Makefile.am: Updated appropriately.

	* src/cerebrod/cerebrod_config.h: Re-work
	clusterlist_module_cmdline into new clusterlist_module_options
	format.

	* src/cerebrod/cerebrod_config.c (_cb_cmdline): Renamed to
	_cb_module_options.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Globally renamed clusterlist_module_cmdline to
	clusterlist_module_options.

	* src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_init):
	Init is now based off a new options format.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_genders.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_cmdline_parse): Re-worked into new _parse_options function.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Re-worked using new options format.

	* src/cerebrod/cerebrod_config.h: Add new clusterlist_module_file
	config calculation.

	* src/cerebrod/cerebrod_clusterlist.c
	(cerebrod_clusterlist_setup): Base on clusterlist_module_file
	config calculation.
	
	* src/cerebrod/cerebrod_config.c (_cerebrod_config_dump): Add
	debug for new clusterlist_module_file config calculation.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculate_clusterlist_module): new function.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_pre_calculate_configuration_config_check,
	_cerebrod_calculate_configuration): Move clusterlist module checks
	and calculation from
	_cerebrod_pre_calculate_configuration_config_check to
	_cerebrod_calculate_configuration.

	* src/cerebrod/cerebrod_clusterlist.c (_find_clusterlist_module):
	Fix logic bugs and also search current directory for modules.

	* src/cerebrod/cerebrod_clusterlist.c (_search_dir): New function

	* src/cerebrod/cerebrod_clusterlist.c (_find_clusterlist_module):
	Code cleanup.

2005-03-16  Albert Chu  <chu11@llnl.gov>

	* src/cerbrod/cerebrod_util.h, src/cerbrod/cerebrod_util.c: New
	files.

	* src/cerebrod/cerebrod_listener.c, src/cerebrod_updown.c: Re-work
	with new rehashing common functions.

	* src/cerebrod/Makefile.am: Updated with new files.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener),
	src/cerebrod/cerebrod.c
	(main): Call appropriate updown server functions.

	* src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_node_in_cluster),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_node_in_cluster,
	gendersllnl_clusterlist_get_nodename): Fix memory corruption bug.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Pthread_cond_wait, Pthread_cond_signal, wrap_pthread_cond_wait,
	wrap_pthread_cond_signal): New macros and functions.

	* src/cerebrod/Makefile.am: Fix dynamic module symbol problems.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_initialization),
	src/cerebrod/cerebrod_updown.c (_cerebrod_updown_initialization),
	src/cerebrod/cerebrod.c (main): Fix pthread logic problem with
	condition variables.

	* src/libcommon/wrappers.c (wrap_list_for_each): Fix debug logic
	error.

	* src/libcommon/argv.h, src/libcommon/argv.c (argv_create,
	argv_destroy, _nextargv, _sizeargv): Re-worked not to use
	wrapper functions.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Argv_create,
	Argv_destroy, wrap_argv_create, wrap_argv_destroy): New macros and
	functions.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_init),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_init): Use new Argv_create and
	Argv_destroy macros.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_destroy, _cmdline_parse),
	src/cerebrod/cerebrod_clusterlist_genders.c
	(genders_clusterlist_destroy, _cmdline_parse),
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(gendersllnl_clusterlist_destroy, _cmdline_parse): Fix memory
	corruption logic error.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_genders.c
	(_cmdline_parse), src/cerebrod/cerebrod_clusterlist_gendersllnl.c
	(_cmdline_parse): Fix seg fault bug and getopt parsing bug.

	* src/cerebrod/cerebrod_config.c (_cb_cmdline): New function.
	
	* src/cerebrod/cerebrod_config.c (_cerebrod_config_parse): Use new
	_cb_cmdline appropriately.

2005-03-15  Albert Chu  <chu11@llnl.gov>

	Begin support of updown server.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse,
	_cerebrod_pre_calculate_configuration_config_check): Add updown
	configuration support.

	* src/cerebrod/cerebrod_updown.h, src/cerebrod/cerebrod_updown.c: New files.

	Misc
	
	* src/libcommon/wrappers.c: Added mountains of additional error
	checks and debug info output.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_initialize): Initialize hash base on
	clusterlist numnodes count.

	* etc/Makefile.am, etc/cerebrod: New files.

	* configure.ac: Generate etc/Makefile.

	* Makefile.am: Add etc subdir.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (_Free,
	List_count, wrap_list_count): New macros and functions.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c
	(hostsfile_clusterlist_init, hostsfile_clusterlist_finish): Rework
	using _Free.

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c (_all): Removed function.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_initialize, _rehash): Rework using _Free.

	* src/cerebrod/cerbrod_updown.c
	(_cerebrod_listener_dump_cluster_node_data_hash): Remove
	Hash_count use, use cluster_data_hash_numnodes instead.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse, _cerebrod_config_default): Added
	additional server debugging configuration flags.

	* src/cerebrod/cerebrod_speaker.c, src/cerebrod/cerebrod_listen.c,
	src/cerebrod_updown.c: Fix debug output based on new configuration
	parameters.

2005-03-14  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Lt_dlinit,
	Lt_dlexit, wrap_lt_dlinit, wrap_lt_dlexit): New wrappers.

	* src/cerebrod/cerebrod_clusterlist.c (cerebrod_clusterlist_setup,
	cerebrod_clusterlist_cleanup): Use new wrappers.h

	* src/cerebrod/cerebrod_clusterlist_hostsfile.c: Completed work.

	* config/ac_hostsfile.m4: New file.

	* configure.ac: Updated to configure hostsfile default path.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(List_delete_all, List_for_each, wrap_list_delete_all,
	wrap_list_for_each): New functions.

	* src/cerebrod/cerebrod_clusterlist_none.c: New file.

	* src/cerebrod/Makefile.am: Update with none module.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Add
	clusterlist support.

	* src/cerebrod/cerebrod_clusterlist_none.c: New file.

	* Makefile.am: Updated with new module.
	
2005-03-13  Albert Chu  <chu11@llnl.gov>

	Add initial support for masterlist mechanisms.
	
	* config/libtool.m4, config/ac_genders.m4,
	config/ac_gendersllnl.m4, src/libcommon/argv.h,
	src/libcommon/argv.c, src/libcommon/ltdl.h,
	src/libcommon/ltdl.c,src/cerebrod/cerebrod_clusterlist.h,
	src/cerebrod/cerebrod_clusterlist.c,
	src/cerebrod/cerebrod_clusterlist_genders.c,
	src/cerebrod/cerebrod_clusterlist_gendersllnl.c,
	src/cerebrod/cerebrod_clusterlist_hostsfile.c: New files.

	* src/libcommon/Makefile.am, src/cerebrod/Makefile.am: Updated
	appropriately.

	* src/cerebrod/cerebrod.c (_cerebrod_initialization): Renamed to
	_cerebrod_pre_config_initialization.

	* src/cerebrod/cerebrod.c (_cerebrod_post_config_initialization):
	New function.

	* src/cerebrod/cerebrod.c (main): Added calls to new functions.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse): Added support for clusterlist module
	configuration.

	* src/libcommon/wrappers.c (wrap_open, wrap_chdir): Added
	additional debugging info.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (List_append,
	List_destroy, List_iterator_create, List_iterator_destroy,
	Hash_remove, Stat, Opendir, Closedir, Lt_dlopen, Lt_dlsym,
	Lt_dlclose, wrap_list_append, wrap_list_destroy,
	wrap_list_iterator_create, wrap_list_iterator_destroy,
	wrap_hash_remove, wrap_stat, wrap_opendir, wrap_closedir,
	wrap_lt_dlopen, wrap_lt_dlsym, wrap_lt_dlclose): New wrappers.
	
2005-02-16  Albert Chu  <chu11@llnl.gov>
	 
	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_create_and_setup_socket): Fix bind error,
	remove unnecessary setsockopt call.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Add
	additional parallelism.

	* src/cerebrod/cerebrod.c (main): Fix listener corner case.
	
2005-02-15  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener),
	src/cerebrod/cerebrod_speaker.c (_cerebrod_speaker_initialize,
	cerebrod_speaker): Use recvfrom/sendto interface rather than
	read/write interface for sending packets.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_dump_cluster_node_data): Fix assert bug. Add
	hash count to output.

	* src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_dump_cluster_node_data_item): Fix pointer
	error.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Fix hash
	key buffering error.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Hash_count,
	wrap_hash_count): New functions and macros.

	* src/libcommon/wrappers.c (wrap_hash_insert): Add additional
	error check.

2005-02-14  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_pre_calculate_configuration_config_check): Add
	listen_threads check.

	* src/cerebrod/cerebrod.c (main): Launch listen threads
	appropriately.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculate_configuration): Calculate destination ip
	inaddr in both listener and speaker mode.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket),
	src/cerebrod/cerebrod_listener.c
	(_cerebrod_listener_create_and_setup_socket): Add memsets to
	ensure correct settings.

	* src/cerebrod/cerebrod_listener.c (cerebrod_listener): Fix buffer
	input error.
	
	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_speaker.c, src/cerebrod_listener.c: Globally
	rename heartbeat_in_addr to heartbeat_network_interface_in_addr.
	Globally rename destination_in_addr to destination_ip_in_addr.
	
2005-02-09  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.h,
	src/cerebrod/cerebrod_listener.c: Completed basic listener
	functionality.  Added rehashing of hash when hash is too large.
	Added cluster_node_data_hash debugging.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c: Added
	various hashing wrappers.

	* src/cerebrod/cerebrod_config.c: Added additional checks on
	unicast and listener.
	
2005-02-03  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod_config.c: Renamed
	speak_ttl to heartbeat_ttl and merged two network interface
	configurations into one.

	* src/cerebrod/cerebrod_speaker.c,
	src/cerebrod/cerebrod_listener.c: Adjust to configuration changes.
	
2005-02-02  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in: Fix rpm build problem.
	
2005-02-01  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Support listen_on_network_interface configuration and
	configuration calculation.  Fix configuration check corner cases.

	* src/cerebrod/cerebrod_listener.c: Continue work on listener.
	
2005-01-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c,
	src/cerebrod/cerebrod_speaker.c: Globally renamed speak_to_ip and
	speak_to_port to heartbeat_destination_ip and
	heartbeat_destination_port.  Removed listen_port configuration.
	Globally renamed speak_from_port to heartbeat_source_port.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Begin listen_on_network_interface configuration option addition.
	
2005-01-23  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_listener.c: Begin work on cerebrod_listener

	* src/cerebrod/wrappers.h, src/cerebrod/wrappers.c (List_create,
	wrap_list_create, Hash_create, wrap_hash_create): New macros and
	functions.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse),
	src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Add and use
	speak_to_port configuration option.
	
2005-01-22  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_speaker.c (cerebrod_speaker): Fix corner
	case for errno survival on writes and sleep_time.  Cleaned up
	code.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Fix errno check
	corner case.

	* src/libcommon/hash.h, src/libcommon/hash.c,
	src/libcommon/list.h, src/libcommon/list.c,
	src/libcommon/thread.h, src/libcommon/thread.c: New files.

	* src/libcommon/Makefile.am: Update for new files.

	* src/cerebrod/cerebrod_listener.h,
	src/cerebrod/cerebrod_listener.c: New files.

	* src/cerebrod/Makefile.am: Update for new files.

2005-01-16  Albert Chu  <chu11@llnl.gov>
	
	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse,
	_cerebrod_config_check), src/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Support ttl
	configuration option.
	
2005-01-15  Albert Chu  <chu11@llnl.gov>

	Add initial pthread support.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Pthread_create, Pthread_attr_init, Pthread_attr_destroy,
	Pthread_attr_setdetachstate, Pthread_mutex_lock,
	Pthread_mutex_trylock, Pthread_mutex_unlock, wrap_pthread_create,
	wrap_pthread_attr_init, wrap_pthread_attr_destroy,
	wrap_pthread_attr_setdetachstate, wrap_pthread_mutex_lock,
	wrap_pthread_mutex_trylock, wrap_pthread_mutex_unlock): New macros
	and functions.
	
	* src/cerebrod/cerebrod_daemon.h, src/cerebrod/cerebrod_daemon.c
	(cerebrod_daemon_init): Removed openlog call and progname parameter.

	* src/cerebrod/cerebrod.c (main): Fix error flags and call
	cerebrod_daemon_init to daemonize.  Pthread speaker.

	* src/cerebrod/cerebrod_speaker.h, src/cerebrod/cerebrod_speaker.c
	(cerebrod_speaker): Fix prototype to remove warnings.  Add code to
	survive various error conditions.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall):
	Change if statement check to assert.
	
	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_unmarshall):
	Return -1 on errors instead of exitting.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_send_heartbeat): removed function.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket): Fixed to aid in
	survival of error conditions.

	* src/cerebrod/cerebrod.c, src/cerebrod/cerebrod_heartbeat.c
	(cerebrod_heartbeat_dump), src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_dump_heartbeat): Added mutex locking for debug
	output.
	
	* configure.ac: Fix pthread building problem.
	
2005-01-09  Albert Chu  <chu11@llnl.gov>

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c (Connect,
	wrap_connect): New macro and function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_default, _cerebrod_config_parse): Add support
	for listen_port configuration option.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall):
	Fixed parameter check error.

	* src/cerebrod/cerebrod.c (main): Call cerebrod_speaker.  Fix some
	error output logic errors on debugging.

	* src/cerebrod/cerebrod_speaker.c
	(_cerebrod_speaker_create_and_setup_socket, cerebrod_speaker):
	Complete initial speaker code.
	
2005-01-05  Albert Chu  <chu11@llnl.gov>

	* cerebro.spec.in, Makefile.am: Fix to get initial rpm build to work.

2005-01-02  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod.h, src/cerebrod/cerebrod_speaker.h,
	src/cerebrod/cerebrod_speaker.c: New files.

	* src/cerebrod/cerebrod_config.c
	(_cerebrod_calculated_heartbeat_frequency_ranged): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(_cerebrod_config_parse, _cb_heartbeat_freq,
	_cerebrod_calculate_configuration): Support fixed frequency and
	ranged frequencies.

	* src/cerebrod/cerebrod_heartbeat.h,
	src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_construct):
	New function.  Rename struct cerebrod_heartbeat_t to struct
	cerebrod_heartbeat.

	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Bind, wrap_bind): New macros and functions.

2005-01-01  Albert Chu  <chu11@llnl.gov>

	* configure.ac: Updated with threads and lsd defines.

	* config/acx_pthread.m4: New file.

	* src/cerebrod/cerebrod_heartbeat.h: Include new file.
	
	* src/cerebrod/cerebrod_boottime.h,
	src/cerebrod/cerebrod_boottime.c: Renamed to cerebrod_cache.h and
	cerebrod_cache.c.

	* src/cerebrod/cerebrod_cache.h, src/cerebrod/cerebrod_cache.c
	(cerebrod_get_starttime, cerebrod_cache_starttime,
	cerebrod_cache_boottime, cerebrod_cache_hostname,
	cerebrod_get_hostname): New functions.

	* src/cerebrod/cerebrod_heartbeat.h: Add program starttime to
	heartbeat.

	* src/cerebrod/cerebrod_heartbeat.c (cerebrod_heartbeat_marshall,
	cerebrod_heartbeat_unmarshall): Add starttime
	marshalling/unmarshalling.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config): New function.

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c
	(cerebrod_config_default, cerebrod_cmdline_parse,
	cerebrod_config_parse, cerebrod_calculate_configuration): Made
	static and renamed to _cerebrod_config_default,
	_cerebrod_cmdline_parse, _cerebrod_config_parse,
	_cerebrod_calculate_configuration respectively.

	* src/cerebrod_config.c (_cerebrod_config_dump): New function.

	* src/cerebrod/Makefile.am: Update appropriately.
	
	* src/libcommon/wrappers.h, src/libcommon/wrappers.c
	(Gettimeofday, wrap_gettimeofday, Inet_pton, wrap_inet_pton, Time,
	wrap_time): New macros and functions.

2004-12-31  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.h, src/cerebrod/cerebrod_config.c:
	Modified to support singlecast as well as multicast configuration.
	Added configuration file checks and singlecast vs. multicast
	configuration detection.

	* src/libcommon/wrappers.c: Added asserts.
	
2004-12-23  Albert Chu  <chu11@llnl.gov>

	* src/cerebrod/cerebrod_config.c, src/cerebrod/cerebrod_daemon.c,
	src/cerebrod/cerebrod/heartbeat.c: Added asserts.
	
2004-11-16  Albert Chu  <chu11@llnl.gov>

	* Initial commit.
